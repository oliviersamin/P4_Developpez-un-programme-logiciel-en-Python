from tinydb import TinyDB

import Modeles.modeles as mod
import config as cf
import Controleurs.controleurs as ct

#
# class TestModeles:
#     """ test the tournament model when passing from database serialized to Tournament instance """
#
#     SERIALIZED_FINISHED_TOURNAMENT = {"name": "test", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [{"name": "r1", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "player2": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "player2": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "player2": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "player2": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r2", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r3", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:06", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r4", "time_start": "04/05/2021 - 11:06", "time_end": "04/05/2021 - 11:06", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}], "players": [{"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}], 'tournament_started': True, 'tournament_ended': True}
#     SERIALIZED_UNFINISHED_TOURNAMENT_FINISHED_ROUND = {"name": "test", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [{"name": "r1", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "player2": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "player2": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "player2": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "player2": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r2", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}], "players": [{"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}], 'tournament_started': True, 'tournament_ended': False}
#     SERIALIZED_UNFINISHED_TOURNAMENT_UNFINISHED_ROUND = {"name": "test", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [{"name": "r1", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "player2": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "player2": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "player2": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "player2": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": False}], "players": [{"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}], 'tournament_started': True, 'tournament_ended': False}
#     SERIALIZED_UNFINISHED_TOURNAMENT_NO_ROUND_ALL_PLAYERS = {"name": "test", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [], "players": [{"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}], 'tournament_started': True, 'tournament_ended': False}
#     SERIALIZED_UNFINISHED_TOURNAMENT_NO_ROUND_SOME_PLAYERS = {"name": "test", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [], "players": [{"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}], 'tournament_started': True, 'tournament_ended': False}
#     SERIALIZED_UNFINISHED_TOURNAMENT_NO_ROUND_NO_PLAYERS = {"name": "test", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [], "players": [], 'tournament_started': True, 'tournament_ended': False}
#
#
#     def test_tournament_invert_serialized(self):
#         """ test from serialized data from database into mod.Tournament instance """
#         # 1 - test with the whole tournament finished
#         tournament = mod.Tournament()
#         tournament.from_serialized_to_instance(self.SERIALIZED_FINISHED_TOURNAMENT)
#         # print(self.tournament.__dict__)
#         # for player in self.tournament.players:
#         #     # print(type(player))
#         #     print(player.__dict__)
#         # for round in self.tournament.rounds:
#         #     print(round.__dict__)
#         # test OK
#
#         # 2 - test with with all rounds played are finished but miss rounds to play
#         tournament = mod.Tournament()
#         tournament.from_serialized_to_instance(self.SERIALIZED_UNFINISHED_TOURNAMENT_FINISHED_ROUND)
#         # print('rounds number = ', len(tournament.rounds))
#         # for round in tournament.rounds:
#         #     print('round closed: ', round.closed)
#         # print('players number = ', len(tournament.players))
#         # test OK
#
#         # 3 - test with round unfinished
#         tournament = mod.Tournament()
#         tournament.from_serialized_to_instance(self.SERIALIZED_UNFINISHED_TOURNAMENT_UNFINISHED_ROUND)
#         # for round in tournament.rounds:
#         #     print('round closed: ', round.closed)
#         # print('rounds number = ', len(tournament.rounds))
#         # print('players number = ', len(tournament.players))
#         # test OK
#
#         # 4 - test with no round and all players
#         tournament = mod.Tournament()
#         tournament.from_serialized_to_instance(self.SERIALIZED_UNFINISHED_TOURNAMENT_NO_ROUND_ALL_PLAYERS)
#         # print(tournament.__dict__)
#         # test OK
#
#         # 5 - test with no round and some missing players
#         tournament = mod.Tournament()
#         tournament.from_serialized_to_instance(self.SERIALIZED_UNFINISHED_TOURNAMENT_NO_ROUND_SOME_PLAYERS)
#         # print(len(tournament.players))
#         # print(tournament.__dict__)
#         # test OK
#
#         # 6 - test with no round and no player
#         tournament = mod.Tournament()
#         tournament.from_serialized_to_instance(self.SERIALIZED_UNFINISHED_TOURNAMENT_NO_ROUND_NO_PLAYERS)
#         # print(tournament.__dict__)
#         # test OK
#

class TestDataBase:
    """ test the several methods needed to use database """
    SERIALIZED_FINISHED_TOURNAMENT1 = {"name": "test3", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [{"name": "r1", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "player2": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "player2": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "player2": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "player2": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r2", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r3", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:06", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r4", "time_start": "04/05/2021 - 11:06", "time_end": "04/05/2021 - 11:06", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}], "players": [{"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}], 'tournament_started': True, 'tournament_ended': True}
    SERIALIZED_FINISHED_TOURNAMENT2 = {"name": "test2", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [{"name": "r1", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "player2": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "player2": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "player2": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "player2": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r2", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r3", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:06", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r4", "time_start": "04/05/2021 - 11:06", "time_end": "04/05/2021 - 11:06", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}], "players": [{"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}], 'tournament_started': True, 'tournament_ended': True}
    SERIALIZED_FINISHED_TOURNAMENT3 = {"name": "test", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [{"name": "r1", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "player2": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "player2": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "player2": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "player2": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r2", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r3", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:06", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r4", "time_start": "04/05/2021 - 11:06", "time_end": "04/05/2021 - 11:06", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}], "players": [{"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}], 'tournament_started': True, 'tournament_ended': True}
    SERIALIZED_UNFINISHED_TOURNAMENT_FINISHED_ROUND = {"name": "test", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [{"name": "r1", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "player2": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "player2": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "player2": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "player2": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}, {"name": "r2", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "player2": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "player2": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "player2": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "player2": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": True}], "players": [{"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}], 'tournament_started': True, 'tournament_ended': False}
    SERIALIZED_UNFINISHED_TOURNAMENT_UNFINISHED_ROUND = {"name": "test", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [{"name": "r1", "time_start": "04/05/2021 - 11:05", "time_end": "04/05/2021 - 11:05", "matches": [{"player1": {"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, "player2": {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, "player2": {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, "player2": {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}, {"player1": {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, "player2": {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}, "score_player1": 0.5, "score_player2": 0.5}], "closed": False}], "players": [{"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}], 'tournament_started': True, 'tournament_ended': False}
    SERIALIZED_UNFINISHED_TOURNAMENT_NO_ROUND_ALL_PLAYERS = {"name": "test", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [], "players": [{"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}, {"id": 8, "last_name": "h", "first_name": "", "date_of_birth": "", "sex": "", "rank": 8, "tournament_total_points": 2.0, "opponents": [4, 4, 4, 4], "sexe": ""}], 'tournament_started': True, 'tournament_ended': False}
    SERIALIZED_UNFINISHED_TOURNAMENT_NO_ROUND_SOME_PLAYERS = {"name": "test", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [], "players": [{"id": 1, "last_name": "a", "first_name": "", "date_of_birth": "", "sex": "", "rank": 1, "tournament_total_points": 2.0, "opponents": [5, 5, 5, 5], "sexe": ""}, {"id": 2, "last_name": "b", "first_name": "", "date_of_birth": "", "sex": "", "rank": 2, "tournament_total_points": 2.0, "opponents": [6, 6, 6, 6], "sexe": ""}, {"id": 3, "last_name": "c", "first_name": "", "date_of_birth": "", "sex": "", "rank": 3, "tournament_total_points": 2.0, "opponents": [7, 7, 7, 7], "sexe": ""}, {"id": 4, "last_name": "d", "first_name": "", "date_of_birth": "", "sex": "", "rank": 4, "tournament_total_points": 2.0, "opponents": [8, 8, 8, 8], "sexe": ""}, {"id": 5, "last_name": "e", "first_name": "", "date_of_birth": "", "sex": "", "rank": 5, "tournament_total_points": 2.0, "opponents": [1, 1, 1, 1], "sexe": ""}, {"id": 6, "last_name": "f", "first_name": "", "date_of_birth": "", "sex": "", "rank": 6, "tournament_total_points": 2.0, "opponents": [2, 2, 2, 2], "sexe": ""}, {"id": 7, "last_name": "g", "first_name": "", "date_of_birth": "", "sex": "", "rank": 7, "tournament_total_points": 2.0, "opponents": [3, 3, 3, 3], "sexe": ""}], 'tournament_started': True, 'tournament_ended': False}
    SERIALIZED_UNFINISHED_TOURNAMENT_NO_ROUND_NO_PLAYERS = {"name": "test", "location": "", "date": "", "round_number": 4, "time_control": "", "description": "", "rounds": [], "players": [], 'tournament_started': True, 'tournament_ended': False}
    DB = TinyDB(cf.data_base_file_name)
    TOURNAMENT_TABLE = DB.table(cf.table_tournament)

    # def test_search_last_entry_created_in_table(self):
    #     """ aim = search the last entry in the table and display it """
    #     last_data = self.TOURNAMENT_TABLE.all()[-1]
    #     # print('\ndernier tournoi = ', last_data)
    #     # test OK
    #
    def test_update_database(self):
        """ aim = update the last entry data already existing in database """

        # 1 - get the last entry of the table
        last_data = self.TOURNAMENT_TABLE.all()[-1]

        # 2 - update data in database
        ct.DataBase.update_last_data_in_database_table(self.TOURNAMENT_TABLE, self.SERIALIZED_UNFINISHED_TOURNAMENT_UNFINISHED_ROUND)
        # print(self.TOURNAMENT_TABLE.all())
        # test OK

    def test_open_saved_tournament(self):
        resultat = ct.SaveOpenTournament.open_saved_tournament()
        print('dico: ', resultat)
    #     ct.SaveOpenTournament.which_tournament_step()

    # def test_tournament_step(self):
        """ aim = verify the function which_tournament_step()"""
        # ct.SaveOpenTournament.which_tournament_step()

